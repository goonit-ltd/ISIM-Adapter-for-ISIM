<?xml version="1.0" encoding="UTF-8"?>
<MetamergeConfig IDIversion="Created by TDI7.0 - 2009-04-24" created="Sat Apr 02 18:14:50 BST 2016" createdBy="root" modified="Sun Apr 03 20:59:35 BST 2016" modifiedBy="root" version="7.0">
    <Folder name="AssemblyLines">
        <AssemblyLine name="Create New Account">
            <Settings/>
            <Hooks>
                <Hook name="onfailure">
                    <Name>onfailure</Name>
                    <Script/>
                    <Enabled>false</Enabled>
                </Hook>
                <Hook name="onsuccess">
                    <Name>onsuccess</Name>
                    <Script/>
                    <Enabled>false</Enabled>
                </Hook>
                <Hook name="prolog0">
                    <Name>prolog0</Name>
                    <Script><![CDATA[// Import ITDI packages
importPackage(Packages.com.ibm.di);

var adapterVersion = "0.1";
task.logmsg("INFO","Adapter Version - 0.1");

// Read AL parameters

// ITIM Account Objectclass
var gITIMAccountObjectclass = "erITIMAdapterAccount";



// Read AL parameters

// Get AL config object.
var gALCfg = task.getConfigClone();

// Get AL settings object from AL config.
var gALSettings = gALCfg.getSettings();

// Get Parameters from TCB
var gOperationType = gALSettings.getStringParameter("OperationType");
var gservicename = gALSettings.getStringParameter("servicename");
var gitimurl = gALSettings.getStringParameter("erurl");
var gnamingcontext = gALSettings.getStringParameter("namingcontext");
var gitimuid = gALSettings.getStringParameter("erserviceuid");
var gitimpassword = gALSettings.getStringParameter("erservicepwd2");
var gldapdn = gALSettings.getStringParameter("eruid");
var gsearchfilter = gALSettings.getStringParameter("filter");
//var gldappassword = gALSettings.getStringParameter("erserviceuid");
var gldappassword = gALSettings.getStringParameter("erservicepwd1");
var gldapurl = gALSettings.getStringParameter("ldapurl");
var geruidattrs = gALSettings.getStringParameter("eruidattrs");
var gUseSecureITIM = gALSettings.getStringParameter("erusesecureldap");
var gUseSecureLdap = gALSettings.getStringParameter("erusesecureldap");
var gDebug = gALSettings.getStringParameter("erdebug");

task.logmsg("INFO", "  eruidattrs : " + geruidattrs);
task.logmsg("INFO", "  eruidattrs : " + gitimurl);

task.logmsg("ITIM UID: " + gitimuid);
task.logmsg("ITIM PWD: " + gitimpassword);

task.logmsg("ITIM naming context: " + gnamingcontext	);

// Get config object for AL connectors.

task.logmsg(" service detail: " +gALSettings.toString());
task.logmsg("Service details: " +task.getConfigClone().getChildNames());

task.logmsg("Service details: " +task.getConfigClone().getData().toString());

task.logmsg(" service detail: " +gALSettings.toString());

//END OF AUTO-GENERATED SCRIPT - DO NOT REMOVE THIS LINE
JNDIConnector.connector.setParam("java.naming.provider.url",gitimurl);
JNDIConnector.connector.setParam("java.naming.security.principal",gitimuid);
JNDIConnector.connector.setParam("java.naming.security.credentials",gitimpassword);
JNDIConnector.connector.setParam("java.naming.security.authentication","simple");
JNDIConnector.connector.setParam("jndiSearchBase",gnamingcontext);
JNDIConnector.connector.setParam("ldapUseSSL",gUseSecureLdap);
JNDIConnector.connector.setParam("debug",gDebug);
//JNDIConnector.connector.setParam("ldapSearchFilter",gsearchfilter);

task.logmsg("Parameter variables: " +gitimurl +gitimuid + gitimpassword + gnamingcontext);
JNDIConnector.connector.initialize(null);

task.logmsg("what is in TCB: " +task.getTCB().toDeltaString());

task.logmsg("Connection parameters: " + JNDIConnector.connector.getConfiguration().toString());

task.logmsg("IWE: " +task.getTCB().getInitialWorkEntry().toString());
attrNames=task.getTCB().getInitialWorkEntry().getAttributeNames();
newEntry = system.newEntry();
//task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]).get
for (var i=0;i<attrNames.length;i++)
	{
	newEntry.setAttribute(task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]));	
	//task.logmsg("attrname: " +attrNames[i] +"  , :"+ task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]).getValue());
	}]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="JNDIConnector" state="Simulated"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer">
                <Connector name="JNDIConnector">
                    <InheritFrom>system:/Connectors/ibmdi.JNDI</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <UserComment><![CDATA[com/ibm/di/connector/JNDIConnector$jndiIterator

com.ibm.dsml2.jndi.DSML2InitialContextFactory]]></UserComment>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">true</parameter>
                        <parameter name="java.naming.factory.initial">com.ibm.dsml2.jndi.DSML2InitialContextFactory</parameter>
                        <parameter name="java.naming.provider.url">http://localhost:9080/enrole/dsml2_event_handler</parameter>
                        <parameter name="java.naming.security.authentication">Simple</parameter>
                        <parameter name="java.naming.security.credentials">goonit123</parameter>
                        <parameter name="java.naming.security.principal">itim manager</parameter>
                        <parameter name="jndiSearchBase">dc=hrfeed</parameter>
                        <parameter name="userComment"><![CDATA[com/ibm/di/connector/JNDIConnector$jndiIterator

com.ibm.dsml2.jndi.DSML2InitialContextFactory]]></parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>$dn</Name>
                            <Type>advanced</Type>
                            <Enabled>false</Enabled>
                            <Script>work["$dn"]</Script>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>*</Name>
                            <Type>simple</Type>
                            <Simple>*</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>advanced</Type>
                            <Enabled>false</Enabled>
                            <Script>work.cn</Script>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erroles</Name>
                            <Type>advanced</Type>
                            <Enabled>false</Enabled>
                            <Script>work.erroles</Script>
                            <Simple>erroles</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>givenName</Name>
                            <Type>advanced</Type>
                            <Enabled>false</Enabled>
                            <Script>work.givenName</Script>
                            <Simple>givenName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mail</Name>
                            <Type>advanced</Type>
                            <Enabled>false</Enabled>
                            <Script>work.mail</Script>
                            <Simple>mail</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectclass</Name>
                            <Type>advanced</Type>
                            <Enabled>false</Enabled>
                            <Script>work.objectclass</Script>
                            <Simple>objectclass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>sn</Name>
                            <Type>advanced</Type>
                            <Enabled>false</Enabled>
                            <Script>work.sn</Script>
                            <Simple>sn</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>audio</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>businesscategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>carlicense</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentnumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>destinationindicator</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>displayname</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeenumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeetype</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>facsimiletelephonenumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenname</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homephone</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homepostaladdress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>initials</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>internationalisdnnumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>jpegphoto</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>labeleduri</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mobile</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>o</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>pager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>photo</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>physicaldeliveryofficename</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postaladdress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalcode</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postofficebox</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferreddeliverymethod</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredlanguage</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>registeredaddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>roomnumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>secretary</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>seealso</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>st</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>street</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephonenumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>teletexterminalidentifier</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telexnumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>usercertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userpassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userpkcs12</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>usersmimecertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x121address</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x500uniqueidentifier</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                        <AdvancedLinkMode>true</AdvancedLinkMode>
                        <Script>ret.filter="("+geruidattrs+ "=" +work.getString(geruidattrs)+")"</Script>
                        <LinkCriteriaItem>
                            <Key>153704bfdb9</Key>
                            <Attribute>uid</Attribute>
                            <Operator>equals</Operator>
                            <Value>$uid</Value>
                        </LinkCriteriaItem>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="addonly_fail">
                            <Name>addonly_fail</Name>
                            <Script>processError();</Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="before_execute">
                            <Name>before_execute</Name>
                            <Script><![CDATA[work.merge(newEntry);
work.getString(geruidattrs)
work.setAttribute("uid",work.getString("eruid"));
work.setAttribute("$dn",geruidattrs +"=" + work.getString(geruidattrs) + "," + gnamingcontext );
work.setAttribute("erpersonpassword", work.getString("erpassword"))
work.setAttribute("objectclass",work.getString("erpersonobjectclass"));

work.removeAttribute("erpassword");
work.removeAttribute("nagemployeetype");
work.removeAttribute("eruid");
work.removeAttribute("erperobjectclass");
work.removeAttribute("erpersonobjectclass");
task.logmsg("about to dumpEntry");
task.dumpEntry(work);]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="before_update">
                            <Name>before_update</Name>
                            <Script><![CDATA[//set a dn

// Dump the work entry
task.dumpEntry(work);
work=newEntry;
task.dumpEntry(work);
work.setAttribute("uid",work.getString("eruid"));
work.setAttribute("$dn","uid=" + work.getString("eruid") + "," + gnamingcontext );
//JNDIConnector.connector.getParam("jndiSearchBase") );

// Dump the work entry

work.setAttribute("objectclass",work.getString("erperobjectclass"));

work.removeAttribute("eruid");
task.logmsg("about to dumpEntry");
task.dumpEntry(work);]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="default_fail">
                            <Name>default_fail</Name>
                            <Script>processError();</Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script><![CDATA[work.setProperty("objectclass","eritimadapteraccount");
work.setProperty("eruid",work.getString("eruid"));
work.removeAllAttributes();
//JNDIConnector.connector.setResultEntry(work);
work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
    Packages.com.ibm.itim.remoteservices.provider.Status.SUCCESSFUL));
    
    // Operation completed successfully, or successful with warning]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="override_add">
                            <Name>override_add</Name>
                            <Enabled>false</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="initreconnect">false</parameter>
                        <parameter name="numberOfRetries">1</parameter>
                        <parameter name="retryDelay">10</parameter>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations>
                <Operation name="Default">
                    <Schema name="Input">
                        <SchemaItem>
                            <Name>$dn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>audio</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>businessCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>carLicense</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>destinationIndicator</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>displayName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeType</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erPersonStatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erRoles</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSupervisor</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSynchPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraccountstatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eruid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>facsimileTelephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePhone</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePostalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>initials</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>internationaliSDNNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>jpegPhoto</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>labeledURI</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mobile</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>o</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>pager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>photo</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>physicalDeliveryOfficeName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postOfficeBox</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalCode</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredDeliveryMethod</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredLanguage</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>registeredAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>roomNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>secretary</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>seeAlso</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>st</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>street</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>teletexTerminalIdentifier</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telexNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userCertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPKCS12</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userSMIMECertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x121Address</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x500UniqueIdentifier</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output"/>
                    <AttributeMap name="Input">
                        <AttributeMapItem>
                            <Name>$dn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>audio</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>audio</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>businessCategory</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>businessCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>carLicense</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>carLicense</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>departmentNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>departmentNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>description</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>description</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>destinationIndicator</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>destinationIndicator</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>displayName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>displayName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeType</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeType</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erPersonStatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erPersonStatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erRoles</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erRoles</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSupervisor</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSupervisor</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSynchPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSynchPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eraccountstatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eraccountstatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erpassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eruid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eruid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>facsimileTelephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>facsimileTelephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>givenName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>givenName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePhone</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePhone</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePostalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePostalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>initials</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>initials</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>internationaliSDNNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>internationaliSDNNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>jpegPhoto</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>jpegPhoto</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>l</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>l</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>labeledURI</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>labeledURI</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mail</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mail</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>manager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>manager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mobile</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mobile</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>o</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>o</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectClass</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>objectClass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ou</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>ou</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>pager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>pager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>photo</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>photo</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>physicalDeliveryOfficeName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>physicalDeliveryOfficeName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postOfficeBox</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postOfficeBox</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalCode</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalCode</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredDeliveryMethod</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredDeliveryMethod</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredLanguage</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredLanguage</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>registeredAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>registeredAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>roomNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>roomNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>secretary</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>secretary</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>seeAlso</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>seeAlso</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>sn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>sn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>st</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>st</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>street</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>street</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>teletexTerminalIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>teletexTerminalIdentifier</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telexNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telexNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>title</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>title</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>uid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>uid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userCertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userCertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPKCS12</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPKCS12</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userSMIMECertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userSMIMECertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x121Address</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x121Address</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x500UniqueIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x500UniqueIdentifier</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output"/>
                </Operation>
            </Operations>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="TestDriver">
            <Settings/>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="TestDriver" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer">
                <Connector name="TestDriver">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[
var tcb = system.newTCB();
var testEntry = system.newEntry();

// The following attributes are required for all new accounts
testEntry.setAttribute("eruid","");

// Uncomment any additional attributes you would like to process
//testEntry.setAttribute("erpassword","");
//testEntry.setAttribute("eraccountstatus","");
//testEntry.setAttribute("audio","");
//testEntry.setAttribute("businessCategory","");
//testEntry.setAttribute("carLicense","");
//testEntry.setAttribute("cn","");
//testEntry.setAttribute("departmentNumber","");
//testEntry.setAttribute("description","");
//testEntry.setAttribute("destinationIndicator","");
//testEntry.setAttribute("displayName","");
//testEntry.setAttribute("employeeNumber","");
//testEntry.setAttribute("employeeType","");
//testEntry.setAttribute("facsimileTelephoneNumber","");
//testEntry.setAttribute("givenName","");
//testEntry.setAttribute("homePhone","");
//testEntry.setAttribute("homePostalAddress","");
//testEntry.setAttribute("initials","");
//testEntry.setAttribute("internationaliSDNNumber","");
//testEntry.setAttribute("jpegPhoto","");
//testEntry.setAttribute("l","");
//testEntry.setAttribute("labeledURI","");
//testEntry.setAttribute("mail","");
//testEntry.setAttribute("manager","");
//testEntry.setAttribute("mobile","");
//testEntry.setAttribute("o","");
//testEntry.setAttribute("objectClass","");
//testEntry.setAttribute("ou","");
//testEntry.setAttribute("pager","");
//testEntry.setAttribute("photo","");
//testEntry.setAttribute("physicalDeliveryOfficeName","");
//testEntry.setAttribute("postalAddress","");
//testEntry.setAttribute("postalCode","");
//testEntry.setAttribute("postOfficeBox","");
//testEntry.setAttribute("preferredDeliveryMethod","");
//testEntry.setAttribute("preferredLanguage","");
//testEntry.setAttribute("registeredAddress","");
//testEntry.setAttribute("roomNumber","");
//testEntry.setAttribute("secretary","");
//testEntry.setAttribute("seeAlso","");
//testEntry.setAttribute("sn","");
//testEntry.setAttribute("st","");
//testEntry.setAttribute("street","");
//testEntry.setAttribute("telephoneNumber","");
//testEntry.setAttribute("teletexTerminalIdentifier","");
//testEntry.setAttribute("telexNumber","");
//testEntry.setAttribute("title","");
//testEntry.setAttribute("uid","");
//testEntry.setAttribute("userCertificate","");
//testEntry.setAttribute("userPassword","");
//testEntry.setAttribute("userPKCS12","");
//testEntry.setAttribute("userSMIMECertificate","");
//testEntry.setAttribute("x121Address","");
//testEntry.setAttribute("x500UniqueIdentifier","");
//testEntry.setAttribute("erRoles","");
//testEntry.setAttribute("erPersonStatus","");
//testEntry.setAttribute("erSupervisor","");
//testEntry.setAttribute("erSynchPassword","");
tcb.setInitialWorkEntry(testEntry);

// Set the following values as appropriate. 
// These values will be accessed in the Assembly Line Prolog

tcb.setALSetting("OperationType","add");

tcb.setTask(task);

main.startAL("Create New Account", tcb );
]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings/>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="Modify Existing Account">
            <Settings/>
            <Hooks>
                <Hook name="prolog0">
                    <Name>prolog0</Name>
                    <Script><![CDATA[// Import ITDI packages
importPackage(Packages.com.ibm.di);

var adapterVersion = "0.1";
task.logmsg("INFO","Adapter Version - 0.1");

// Read AL parameters

// ITIM Account Objectclass
var gITIMAccountObjectclass = "erITIMAdapterAccount";



// Read AL parameters

// Get AL config object.
var gALCfg = task.getConfigClone();

// Get AL settings object from AL config.
var gALSettings = gALCfg.getSettings();

// Get Parameters from TCB
var gOperationType = gALSettings.getStringParameter("OperationType");
var gservicename = gALSettings.getStringParameter("servicename");
var gitimurl = gALSettings.getStringParameter("erurl");
var gnamingcontext = gALSettings.getStringParameter("namingcontext");
var gitimuid = gALSettings.getStringParameter("erserviceuid");
var gitimpassword = gALSettings.getStringParameter("erservicepwd2");
var gldapdn = gALSettings.getStringParameter("eruid");
var gsearchfilter = gALSettings.getStringParameter("filter");
var gldappassword = gALSettings.getStringParameter("erservicepwd1");
var gldapurl = gALSettings.getStringParameter("ldapurl");
var geruidattrs = gALSettings.getStringParameter("eruidattrs");
var gUseSecureITIM = gALSettings.getStringParameter("erusesecureldap");
var gUseSecureLdap = gALSettings.getStringParameter("erusesecureldap");
var gDebug = gALSettings.getStringParameter("erdebug");

task.logmsg("INFO", "  eruidattrs : " + geruidattrs);
task.logmsg("INFO", "  eruidattrs : " + gitimurl);

task.logmsg("ITIM UID: " + gitimuid);
task.logmsg("ITIM PWD: " + gitimpassword);

task.logmsg("ITIM naming context: " + gnamingcontext	);

// Get config object for AL connectors.

task.logmsg(" service detail: " +gALSettings.toString());
task.logmsg("Service details: " +task.getConfigClone().getChildNames());

task.logmsg("Service details: " +task.getConfigClone().getData().toString());

task.logmsg(" service detail: " +gALSettings.toString());

//END OF AUTO-GENERATED SCRIPT - DO NOT REMOVE THIS LINE
JNDIConnector.connector.setParam("java.naming.provider.url",gitimurl);
JNDIConnector.connector.setParam("java.naming.security.principal",gitimuid);
JNDIConnector.connector.setParam("java.naming.security.credentials",gitimpassword);
JNDIConnector.connector.setParam("java.naming.security.authentication","simple");
JNDIConnector.connector.setParam("jndiSearchBase",gnamingcontext);
JNDIConnector.connector.setParam("ldapUseSSL",gUseSecureLdap);
JNDIConnector.connector.setParam("debug",gDebug);
JNDIConnector.connector.setParam("jndiNameParameter","$dn");
//JNDIConnector.connector.setParam("ldapSearchFilter",gsearchfilter);

task.logmsg("Parameter variables: " +gitimurl +gitimuid + gitimpassword + gnamingcontext);
JNDIConnector.connector.initialize(null);

task.logmsg("what is in TCB: " +task.getTCB().toDeltaString());

task.logmsg("Connection parameters: " + JNDIConnector.connector.getConfiguration().toString());

task.logmsg("IWE: " +task.getTCB().getInitialWorkEntry().toString());
attrNames=task.getTCB().getInitialWorkEntry().getAttributeNames();
newEntry = system.newEntry();
//task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]).get
for (var i=0;i<attrNames.length;i++)
	{
	newEntry.setAttribute(task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]));	
	//task.logmsg("attrname: " +attrNames[i] +"  , :"+ task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]).getValue());
	}]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="JNDIConnector" state="Simulated"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer">
                <Connector name="JNDIConnector">
                    <InheritFrom>system:/Connectors/ibmdi.JNDI</InheritFrom>
                    <ConnectorMode>Update</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="java.naming.factory.initial">com.ibm.dsml2.jndi.DSML2InitialContextFactory</parameter>
                        <parameter name="java.naming.provider.url">http://localhost:9080/enrole/dsml2_event_handler</parameter>
                        <parameter name="java.naming.security.authentication">Simple</parameter>
                        <parameter name="java.naming.security.credentials">agent</parameter>
                        <parameter name="java.naming.security.principal">agent</parameter>
                        <parameter name="jndiSearchBase">dc=goonit</parameter>
                        <parameter name="userComment"/>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>*</Name>
                            <Type>simple</Type>
                            <Simple>*</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings/>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                        <AdvancedLinkMode>true</AdvancedLinkMode>
                        <Script><![CDATA[filter="(" + geruidattrs + "="+ work.getString(geruidattrs) + ")";
task.logmsg("Link Criteria: " + filter);
ret.filter=filter;]]></Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="before_execute">
                            <Name>before_execute</Name>
                            <Script><![CDATA[work.merge(newEntry);
work.setAttribute(geruidattrs,work.getString("eruid"));
work.setAttribute("$dn",geruidattrs +"=" + work.getString(geruidattrs) + "," + gnamingcontext );
task.logmsg("$dn: " +work.getString("$dn"));

if (work.getAttribute("erpersonpassword"))
	{
	work.setAttribute("erpersonpassword",work.getString("erpassword"));
	}
if (work.getAttribute("erpersonobjectclass"))
	{
	work.setAttribute("objectclass",work.getString("erpersonobjectclass"));
	}	

if (gOperationType == "suspend")
	{
		work.setAttribute("erpersonstatus","1");
		work.setAttribute("objectclass","inetorgperson");
	}
if (gOperationType == "restore")
	{
		work.setAttribute("erpersonstatus","0")
	}	
	

work.removeAttribute("entryDN");
work.removeAttribute("erpassword");
work.removeAttribute("nagemployeetype");
work.removeAttribute("eruid");
work.removeAttribute("erperobjectclass");
work.removeAttribute("erpersonobjectclass");
task.logmsg("about to dumpEntry");
task.dumpEntry(work);]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="before_update">
                            <Name>before_update</Name>
                            <Script/>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="default_fail">
                            <Name>default_fail</Name>
                            <Script>processError();</Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script><![CDATA[work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
    Packages.com.ibm.itim.remoteservices.provider.Status.SUCCESSFUL));]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="initreconnect">false</parameter>
                        <parameter name="numberOfRetries">1</parameter>
                        <parameter name="retryDelay">10</parameter>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations>
                <Operation name="Default">
                    <Schema name="Input">
                        <SchemaItem>
                            <Name>$dn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>audio</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>businessCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>carLicense</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>destinationIndicator</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>displayName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeType</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erPersonStatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erRoles</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSupervisor</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSynchPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraccountstatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eruid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>facsimileTelephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePhone</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePostalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>initials</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>internationaliSDNNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>jpegPhoto</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>labeledURI</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mobile</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>o</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>pager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>photo</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>physicalDeliveryOfficeName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postOfficeBox</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalCode</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredDeliveryMethod</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredLanguage</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>registeredAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>roomNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>secretary</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>seeAlso</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>st</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>street</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>teletexTerminalIdentifier</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telexNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userCertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPKCS12</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userSMIMECertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x121Address</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x500UniqueIdentifier</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output"/>
                    <AttributeMap name="Input">
                        <AttributeMapItem>
                            <Name>$dn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>audio</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>audio</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>businessCategory</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>businessCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>carLicense</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>carLicense</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>departmentNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>departmentNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>description</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>description</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>destinationIndicator</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>destinationIndicator</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>displayName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>displayName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeType</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeType</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erPersonStatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erPersonStatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erRoles</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erRoles</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSupervisor</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSupervisor</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSynchPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSynchPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eraccountstatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eraccountstatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erpassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eruid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eruid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>facsimileTelephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>facsimileTelephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>givenName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>givenName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePhone</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePhone</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePostalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePostalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>initials</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>initials</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>internationaliSDNNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>internationaliSDNNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>jpegPhoto</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>jpegPhoto</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>l</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>l</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>labeledURI</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>labeledURI</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mail</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mail</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>manager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>manager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mobile</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mobile</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>o</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>o</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectClass</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>objectClass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ou</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>ou</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>pager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>pager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>photo</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>photo</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>physicalDeliveryOfficeName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>physicalDeliveryOfficeName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postOfficeBox</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postOfficeBox</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalCode</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalCode</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredDeliveryMethod</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredDeliveryMethod</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredLanguage</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredLanguage</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>registeredAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>registeredAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>roomNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>roomNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>secretary</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>secretary</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>seeAlso</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>seeAlso</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>sn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>sn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>st</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>st</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>street</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>street</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>teletexTerminalIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>teletexTerminalIdentifier</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telexNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telexNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>title</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>title</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>uid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>uid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userCertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userCertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPKCS12</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPKCS12</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userSMIMECertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userSMIMECertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x121Address</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x121Address</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x500UniqueIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x500UniqueIdentifier</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output"/>
                </Operation>
            </Operations>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="Delete an Account">
            <Settings/>
            <Hooks>
                <Hook name="prolog0">
                    <Name>prolog0</Name>
                    <Script><![CDATA[// Import ITDI packages
importPackage(Packages.com.ibm.di);

var adapterVersion = "0.1";
task.logmsg("INFO","Adapter Version - 0.1");

// Read AL parameters

// ITIM Account Objectclass
var gITIMAccountObjectclass = "erITIMAdapterAccount";



// Read AL parameters

// Get AL config object.
var gALCfg = task.getConfigClone();

// Get AL settings object from AL config.
var gALSettings = gALCfg.getSettings();

// Get Parameters from TCB
var gOperationType = gALSettings.getStringParameter("OperationType");
var gservicename = gALSettings.getStringParameter("servicename");
var gitimurl = gALSettings.getStringParameter("erurl");
var gnamingcontext = gALSettings.getStringParameter("namingcontext");
var gitimuid = gALSettings.getStringParameter("erserviceuid");
var gitimpassword = gALSettings.getStringParameter("erservicepwd2");
var gldapdn = gALSettings.getStringParameter("eruid");
var gsearchfilter = gALSettings.getStringParameter("filter");
var gldappassword = gALSettings.getStringParameter("erservicepwd1");
var gldapurl = gALSettings.getStringParameter("ldapurl");
var geruidattrs = gALSettings.getStringParameter("eruidattrs");
var gUseSecureITIM = gALSettings.getStringParameter("erusesecureldap");
var gUseSecureLdap = gALSettings.getStringParameter("erusesecureldap");

task.logmsg("INFO", "  eruidattrs : " + geruidattrs);
task.logmsg("INFO", "  eruidattrs : " + gitimurl);

task.logmsg("ITIM UID: " + gitimuid);
task.logmsg("ITIM PWD: " + gitimpassword);

task.logmsg("ITIM naming context: " + gnamingcontext	);

// Get config object for AL connectors.

task.logmsg(" service detail: " +gALSettings.toString());
task.logmsg("Service details: " +task.getConfigClone().getChildNames());

task.logmsg("Service details: " +task.getConfigClone().getData().toString());

task.logmsg(" service detail: " +gALSettings.toString());

//END OF AUTO-GENERATED SCRIPT - DO NOT REMOVE THIS LINE
JNDIConnector.connector.setParam("java.naming.provider.url",gitimurl);
JNDIConnector.connector.setParam("java.naming.security.principal",gitimuid);
JNDIConnector.connector.setParam("java.naming.security.credentials",gitimpassword);
JNDIConnector.connector.setParam("java.naming.security.authentication","simple");
JNDIConnector.connector.setParam("jndiSearchBase",gnamingcontext);
JNDIConnector.connector.setParam("ldapUseSSL",gUseSecureLdap);
//JNDIConnector.connector.setParam("ldapSearchFilter",gsearchfilter);

task.logmsg("Parameter variables: " +gitimurl +gitimuid + gitimpassword + gnamingcontext);
JNDIConnector.connector.initialize(null);

task.logmsg("what is in TCB: " +task.getTCB().toDeltaString());

task.logmsg("Connection parameters: " + JNDIConnector.connector.getConfiguration().toString());

task.logmsg("IWE: " +task.getTCB().getInitialWorkEntry().toString());
attrNames=task.getTCB().getInitialWorkEntry().getAttributeNames();
newEntry = system.newEntry();
//task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]).get
for (var i=0;i<attrNames.length;i++)
	{
	newEntry.setAttribute(task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]));	
	//task.logmsg("attrname: " +attrNames[i] +"  , :"+ task.getTCB().getInitialWorkEntry().getAttribute(attrNames[i]).getValue());
	}]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="JNDIConnector" state="Simulated"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer">
                <Connector name="JNDIConnector">
                    <InheritFrom>system:/Connectors/ibmdi.JNDI</InheritFrom>
                    <ConnectorMode>Delete</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="java.naming.factory.initial">com.ibm.dsml2.jndi.DSML2InitialContextFactory</parameter>
                        <parameter name="java.naming.provider.url">http://localhost:9080/enrole/dsml2_event_handler</parameter>
                        <parameter name="java.naming.security.authentication">Simple</parameter>
                        <parameter name="java.naming.security.credentials">agent</parameter>
                        <parameter name="java.naming.security.principal">agent</parameter>
                        <parameter name="jndiSearchBase">dc=goonit</parameter>
                        <parameter name="userComment"/>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings/>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                        <AdvancedLinkMode>true</AdvancedLinkMode>
                        <Script><![CDATA[filter="(" + geruidattrs + "="+ work.getString("eruid") + ")";
task.logmsg("Link Criteria: " + filter);
ret.filter=filter;
]]></Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="default_fail">
                            <Name>default_fail</Name>
                            <Script><![CDATA[var msg = error.getString("message");
var test = msg.indexOf("Entry not found");
task.logmsg("indexOf Entry not found: " + test);
if (test > 0)
	{
		work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
    Packages.com.ibm.itim.remoteservices.provider.Status.SUCCESSFUL_WARNING));
           work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE, 
            "User not found");
	}
else
	{
	processError();
	}]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script><![CDATA[work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
    Packages.com.ibm.itim.remoteservices.provider.Status.SUCCESSFUL));]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="initreconnect">false</parameter>
                        <parameter name="numberOfRetries">1</parameter>
                        <parameter name="retryDelay">10</parameter>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations>
                <Operation name="Default">
                    <Schema name="Input">
                        <SchemaItem>
                            <Name>$dn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>audio</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>businessCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>carLicense</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>destinationIndicator</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>displayName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeType</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erPersonStatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erRoles</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSupervisor</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSynchPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraccountstatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eruid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>facsimileTelephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePhone</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePostalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>initials</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>internationaliSDNNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>jpegPhoto</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>labeledURI</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mobile</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>o</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>pager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>photo</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>physicalDeliveryOfficeName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postOfficeBox</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalCode</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredDeliveryMethod</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredLanguage</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>registeredAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>roomNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>secretary</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>seeAlso</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>st</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>street</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>teletexTerminalIdentifier</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telexNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userCertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPKCS12</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userSMIMECertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x121Address</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x500UniqueIdentifier</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output"/>
                    <AttributeMap name="Input">
                        <AttributeMapItem>
                            <Name>$dn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>audio</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>audio</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>businessCategory</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>businessCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>carLicense</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>carLicense</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>departmentNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>departmentNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>description</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>description</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>destinationIndicator</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>destinationIndicator</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>displayName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>displayName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeType</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeType</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erPersonStatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erPersonStatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erRoles</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erRoles</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSupervisor</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSupervisor</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSynchPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSynchPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eraccountstatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eraccountstatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erpassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eruid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eruid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>facsimileTelephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>facsimileTelephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>givenName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>givenName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePhone</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePhone</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePostalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePostalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>initials</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>initials</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>internationaliSDNNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>internationaliSDNNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>jpegPhoto</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>jpegPhoto</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>l</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>l</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>labeledURI</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>labeledURI</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mail</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mail</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>manager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>manager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mobile</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mobile</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>o</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>o</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectClass</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>objectClass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ou</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>ou</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>pager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>pager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>photo</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>photo</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>physicalDeliveryOfficeName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>physicalDeliveryOfficeName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postOfficeBox</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postOfficeBox</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalCode</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalCode</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredDeliveryMethod</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredDeliveryMethod</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredLanguage</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredLanguage</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>registeredAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>registeredAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>roomNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>roomNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>secretary</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>secretary</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>seeAlso</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>seeAlso</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>sn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>sn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>st</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>st</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>street</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>street</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>teletexTerminalIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>teletexTerminalIdentifier</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telexNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telexNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>title</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>title</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>uid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>uid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userCertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userCertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPKCS12</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPKCS12</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userSMIMECertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userSMIMECertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x121Address</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x121Address</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x500UniqueIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x500UniqueIdentifier</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output"/>
                </Operation>
            </Operations>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="Test Connection">
            <Settings/>
            <Hooks>
                <Hook name="prolog0">
                    <Name>prolog0</Name>
                    <Script><![CDATA[// Import ITDI packages
importPackage(Packages.com.ibm.di);

var adapterVersion = "1.0";
task.logmsg("INFO","Adapter Version - 1.0");

// Read AL parameters

// ITIM Account Objectclass
var gITIMAccountObjectclass = "erITIMAdapterAccount";



// Read AL parameters

// Get AL config object.
var gALCfg = task.getConfigClone();

// Get AL settings object from AL config.
var gALSettings = gALCfg.getSettings();

// Get Parameters from TCB
// Get Parameters from TCB
var gOperationType = gALSettings.getStringParameter("OperationType");
var gservicename = gALSettings.getStringParameter("servicename");
var gitimurl = gALSettings.getStringParameter("itimurl");
var gnamingcontext = gALSettings.getStringParameter("namingcontext");
var gitimuid = gALSettings.getStringParameter("erserviceuid");
var gitimpassword = gALSettings.getStringParameter("erservicepwd2");
var gldapdn = gALSettings.getStringParameter("eruid");
var gsearchfilter = gALSettings.getStringParameter("filter");
//var gldappassword = gALSettings.getStringParameter("erserviceuid");
var gldappassword = gALSettings.getStringParameter("erservicepwd1");
var gldapurl = gALSettings.getStringParameter("ldapurl");
var geruidattrs = gALSettings.getStringParameter("eruidattrs");
task.logmsg("INFO", "  eruidattrs : " + geruidattrs);

// Get config object for AL connectors.


//END OF AUTO-GENERATED SCRIPT - DO NOT REMOVE THIS LINE]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="returnSuccess" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer">
                <Script name="returnSuccess">
                    <parameter name="script"><![CDATA[// Dump the work entry
task.dumpEntry(work);

work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
    Packages.com.ibm.itim.remoteservices.provider.Status.SUCCESSFUL));]]></parameter>
                </Script>
            </ContainerDF>
            <ThreadOptions/>
            <Operations>
                <Operation name="Default">
                    <Schema name="Input">
                        <SchemaItem>
                            <Name>$dn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>audio</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>businessCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>carLicense</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>destinationIndicator</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>displayName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeType</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erPersonStatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erRoles</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSupervisor</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSynchPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraccountstatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eruid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>facsimileTelephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePhone</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePostalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>initials</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>internationaliSDNNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>jpegPhoto</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>labeledURI</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mobile</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>o</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>pager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>photo</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>physicalDeliveryOfficeName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postOfficeBox</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalCode</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredDeliveryMethod</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredLanguage</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>registeredAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>roomNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>secretary</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>seeAlso</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>st</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>street</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>teletexTerminalIdentifier</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telexNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userCertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPKCS12</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userSMIMECertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x121Address</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x500UniqueIdentifier</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output"/>
                    <AttributeMap name="Input">
                        <AttributeMapItem>
                            <Name>$dn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>audio</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>audio</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>businessCategory</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>businessCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>carLicense</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>carLicense</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>departmentNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>departmentNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>description</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>description</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>destinationIndicator</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>destinationIndicator</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>displayName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>displayName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeType</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeType</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erPersonStatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erPersonStatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erRoles</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erRoles</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSupervisor</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSupervisor</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSynchPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSynchPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eraccountstatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eraccountstatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erpassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eruid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eruid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>facsimileTelephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>facsimileTelephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>givenName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>givenName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePhone</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePhone</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePostalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePostalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>initials</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>initials</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>internationaliSDNNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>internationaliSDNNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>jpegPhoto</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>jpegPhoto</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>l</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>l</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>labeledURI</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>labeledURI</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mail</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mail</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>manager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>manager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mobile</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mobile</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>o</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>o</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectClass</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>objectClass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ou</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>ou</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>pager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>pager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>photo</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>photo</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>physicalDeliveryOfficeName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>physicalDeliveryOfficeName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postOfficeBox</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postOfficeBox</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalCode</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalCode</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredDeliveryMethod</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredDeliveryMethod</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredLanguage</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredLanguage</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>registeredAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>registeredAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>roomNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>roomNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>secretary</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>secretary</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>seeAlso</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>seeAlso</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>sn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>sn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>st</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>st</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>street</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>street</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>teletexTerminalIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>teletexTerminalIdentifier</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telexNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telexNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>title</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>title</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>uid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>uid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userCertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userCertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPKCS12</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPKCS12</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userSMIMECertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userSMIMECertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x121Address</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x121Address</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x500UniqueIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x500UniqueIdentifier</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output"/>
                </Operation>
            </Operations>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ReconcileSupportingData">
            <Settings/>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates/>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer"/>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="Reconcile Accounts">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="maxread"/>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks>
                <Hook name="prolog0">
                    <Name>prolog0</Name>
                    <Script><![CDATA[// Import ITDI packages
importPackage(Packages.com.ibm.di);

var adapterVersion = "1.0";
task.logmsg("INFO","Adapter Version - 1.0");

// Read AL parameters

// ITIM Account Objectclass
var gITIMAccountObjectclass = "erITIMAdapterAccount";



// Read AL parameters

// Get AL config object.
var gALCfg = task.getConfigClone();

// Get AL settings object from AL config.
var gALSettings = gALCfg.getSettings();

// Get Parameters from TCB
var gOperationType = gALSettings.getStringParameter("OperationType");
var gservicename = gALSettings.getStringParameter("servicename");
var gitimurl = gALSettings.getStringParameter("itimurl");
var gnamingcontext = gALSettings.getStringParameter("namingcontext");
var gitimuid = gALSettings.getStringParameter("erserviceuid");
var gitimpassword = gALSettings.getStringParameter("erservicepwd2");
var gldapdn = gALSettings.getStringParameter("eruid");
var gsearchfilter = gALSettings.getStringParameter("filter");
//var gldappassword = gALSettings.getStringParameter("erserviceuid");
var gldappassword = gALSettings.getStringParameter("erservicepwd1");
var gldapurl = gALSettings.getStringParameter("ldapurl");
var geruidattrs = gALSettings.getStringParameter("eruidattrs");
var gUseSecureITIM = gALSettings.getStringParameter("erusesecureldap");
var gUseSecureLdap = gALSettings.getStringParameter("erusesecureldap");
var gDebug = gALSettings.getStringParameter("erdebug");
task.logmsg("INFO", "  eruidattrs : " + geruidattrs);

// Get config object for AL connectors.

// set connector parameters
searchUsers.connector.setParam("ldapUsername",gldapdn);
searchUsers.connector.setParam("ldapPassword",gldappassword);
searchUsers.connector.setParam("ldapSearchFilter",gsearchfilter);
searchUsers.connector.setParam("ldapUseSSL",gUseSecureLdap);

searchUsers.connector.setParam("ldapUrl",gldapurl);
searchUsers.connector.setParam("debug",gDebug);


//END OF AUTO-GENERATED SCRIPT - DO NOT REMOVE THIS LINE
task.logmsg("Service details: " +task.getConfigClone().getChildNames());

task.logmsg("Service details: " +task.getConfigClone().getData().toString());

task.logmsg(" service detail: " +gALSettings.toString());
//task.logmsg(" service detail: " +gALSettings.toString());]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="ConnectorLoop" state="Enabled"/>
                    <Component name="processUsers" state="Enabled"/>
                    <Component name="searchUsers" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="searchUsers">
                    <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="ldapPassword">goonit123</parameter>
                        <parameter name="ldapSearchBase">ou=people,erglobalid=00000000000000000000,ou=GoonIT,DC=COM</parameter>
                        <parameter name="ldapSearchFilter">cn=*goon*</parameter>
                        <parameter name="ldapUrl">ldap://localhost:3891</parameter>
                        <parameter name="ldapUsername">cn=root2</parameter>
                        <parameter name="userComment"/>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>*</Name>
                            <Type>simple</Type>
                            <Simple>*</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="after_getnext">
                            <Name>after_getnext</Name>
                            <Script/>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script/>
                            <Enabled>false</Enabled>
                        </Hook>
                        <Hook name="get_ok">
                            <Name>get_ok</Name>
                            <Script><![CDATA[work.setAttribute("objectclass","eritimadapteraccount");
if (work.getAttribute(geruidattrs)!= null)
	{
	
	work.setAttribute("eruid",work.getString(geruidattrs));	
	work.setAttribute("$dn", "eruid="+work.getString("eruid")+",ou=users");
	}
else 
	{
      // erglobalid=work.getString("$dn").split(",")
		work.setAttribute("eruid",work.getString("erglobalid"));
		work.setAttribute("$dn", "eruid="+work.getString("eruid")+",ou=users");		
	}
work.removeAttribute("erlastmodifiedtime");

work.removeAttribute("ercreatedate");
work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
    Packages.com.ibm.itim.remoteservices.provider.Status.SUCCESSFUL));]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="initreconnect">false</parameter>
                        <parameter name="numberOfRetries">1</parameter>
                        <parameter name="retryDelay">10</parameter>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Loop name="ConnectorLoop">
                    <LoopType>1</LoopType>
                    <Connector name="ConnectorLoop">
                        <InheritFrom>system:/Connectors/ibmdi.TIMDSMLv2Connector</InheritFrom>
                        <ConnectorMode>Iterator</ConnectorMode>
                        <ConnectorState>Enabled</ConnectorState>
                        <Configuration>
                            <UserComment><![CDATA[com/ibm/di/connector/JNDIConnector$jndiIterator

com.ibm.dsml2.jndi.DSML2InitialContextFactory]]></UserComment>
                            <InheritFrom>[parent]</InheritFrom>
                            <parameter name="debug">true</parameter>
                            <parameter name="java.naming.factory.initial">com.ibm.di.connector.JNDIConnector$jndiIterator</parameter>
                            <parameter name="java.naming.provider.url">http://localhost:9080/enrole/dsml2_event_handler</parameter>
                            <parameter name="java.naming.security.authentication">Simple</parameter>
                            <parameter name="java.naming.security.credentials">goonit123</parameter>
                            <parameter name="java.naming.security.principal">itim manager</parameter>
                            <parameter name="jndiSearchBase">dc=hrfeed</parameter>
                            <parameter name="jndiSearchFilter">mail=*</parameter>
                            <parameter name="userComment"><![CDATA[com/ibm/di/connector/JNDIConnector$jndiIterator

com.ibm.dsml2.jndi.DSML2InitialContextFactory]]></parameter>
                        </Configuration>
                        <Parser>
                            <Schema name="Input">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <Schema name="Output">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                        </Parser>
                        <AttributeMap name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                            <AttributeMapItem>
                                <Name>*</Name>
                                <Type>simple</Type>
                                <Simple>*</Simple>
                            </AttributeMapItem>
                        </AttributeMap>
                        <AttributeMap name="Output"/>
                        <DeltaSettings>
                            <WhenToCommit>After every database operation</WhenToCommit>
                        </DeltaSettings>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                            <SchemaItem>
                                <Name>audio</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>businesscategory</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>carlicense</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>cn</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>departmentnumber</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>description</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>destinationindicator</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>displayname</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>employeenumber</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>employeetype</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>facsimiletelephonenumber</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>givenname</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>homephone</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>homepostaladdress</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>initials</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>internationalisdnnumber</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>jpegphoto</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>l</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>labeleduri</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>mail</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>manager</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>mobile</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>o</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>ou</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>pager</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>photo</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>physicaldeliveryofficename</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>postaladdress</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>postalcode</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>postofficebox</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>preferreddeliverymethod</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>preferredlanguage</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>registeredaddress</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>roomnumber</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>secretary</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>seealso</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>sn</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>st</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>street</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>telephonenumber</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>teletexterminalidentifier</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>telexnumber</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>title</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>uid</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>usercertificate</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>userpassword</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>userpkcs12</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>usersmimecertificate</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>x121address</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>x500uniqueidentifier</Name>
                            </SchemaItem>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                            <SchemaItem>
                                <Name>debug</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>java.naming.provider.url</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>java.naming.referral</Name>
                                <NativeSyntax>droplist</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>java.naming.security.authentication</Name>
                                <NativeSyntax>DROPLIST</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>java.naming.security.credentials</Name>
                                <NativeSyntax>PASSWORD</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>java.naming.security.principal</Name>
                                <NativeSyntax>DN</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>jndiExtraProviderParams</Name>
                                <NativeSyntax>textarea</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>jndiNameParameter</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>jndiSearchBase</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>jndiSearchFilter</Name>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>jndiSearchScope</Name>
                                <NativeSyntax>droplist</NativeSyntax>
                            </SchemaItem>
                        </Schema>
                        <LinkCriteria>
                            <LinkCriteriaItem>
                                <Key>153751d1439</Key>
                                <Attribute>mail</Attribute>
                                <Operator>equals</Operator>
                                <Value>*</Value>
                            </LinkCriteriaItem>
                        </LinkCriteria>
                        <Hooks>
                            <InheritFrom>[parent]</InheritFrom>
                        </Hooks>
                        <CheckpointConfig/>
                        <SandboxConfig/>
                        <Reconnect>
                            <InheritFrom>[parent]</InheritFrom>
                            <parameter name="initreconnect">false</parameter>
                            <parameter name="numberOfRetries">1</parameter>
                            <parameter name="retryDelay">10</parameter>
                            <ReconnectRules/>
                        </Reconnect>
                        <Operations/>
                        <PoolDefinition>
                            <InheritFrom>[parent]</InheritFrom>
                        </PoolDefinition>
                        <PoolInstance/>
                        <InitializeOption>0</InitializeOption>
                    </Connector>
                    <Branch name="ConnectorLoop">
                        <Script name="processUsers">
                            <parameter name="script">task.dumpEntry(work);</parameter>
                        </Script>
                        <Conditions/>
                        <MatchAny>false</MatchAny>
                        <Enabled>false</Enabled>
                        <Type>0</Type>
                    </Branch>
                </Loop>
            </ContainerDF>
            <ThreadOptions/>
            <Operations>
                <Operation name="Default">
                    <Schema name="Input">
                        <SchemaItem>
                            <Name>$dn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>audio</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>businessCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>carLicense</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>destinationIndicator</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>displayName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeType</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erPersonStatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erRoles</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSupervisor</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSynchPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraccountstatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eruid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>facsimileTelephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePhone</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePostalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>initials</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>internationaliSDNNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>jpegPhoto</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>labeledURI</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mobile</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>o</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>pager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>photo</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>physicalDeliveryOfficeName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postOfficeBox</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalCode</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredDeliveryMethod</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredLanguage</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>registeredAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>roomNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>secretary</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>seeAlso</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>st</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>street</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>teletexTerminalIdentifier</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telexNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userCertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPKCS12</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userSMIMECertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x121Address</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x500UniqueIdentifier</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output"/>
                    <AttributeMap name="Input">
                        <AttributeMapItem>
                            <Name>$dn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>audio</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>audio</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>businessCategory</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>businessCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>carLicense</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>carLicense</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>departmentNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>departmentNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>description</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>description</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>destinationIndicator</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>destinationIndicator</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>displayName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>displayName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeType</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeType</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erPersonStatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erPersonStatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erRoles</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erRoles</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSupervisor</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSupervisor</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSynchPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSynchPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eraccountstatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eraccountstatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erpassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eruid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eruid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>facsimileTelephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>facsimileTelephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>givenName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>givenName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePhone</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePhone</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePostalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePostalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>initials</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>initials</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>internationaliSDNNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>internationaliSDNNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>jpegPhoto</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>jpegPhoto</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>l</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>l</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>labeledURI</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>labeledURI</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mail</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mail</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>manager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>manager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mobile</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mobile</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>o</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>o</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectClass</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>objectClass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ou</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>ou</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>pager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>pager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>photo</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>photo</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>physicalDeliveryOfficeName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>physicalDeliveryOfficeName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postOfficeBox</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postOfficeBox</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalCode</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalCode</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredDeliveryMethod</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredDeliveryMethod</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredLanguage</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredLanguage</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>registeredAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>registeredAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>roomNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>roomNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>secretary</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>secretary</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>seeAlso</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>seeAlso</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>sn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>sn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>st</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>st</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>street</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>street</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>teletexTerminalIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>teletexTerminalIdentifier</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telexNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telexNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>title</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>title</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>uid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>uid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userCertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userCertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPKCS12</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPKCS12</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userSMIMECertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userSMIMECertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x121Address</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x121Address</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x500UniqueIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x500UniqueIdentifier</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output"/>
                </Operation>
            </Operations>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
    </Folder>
    <Folder name="Connectors">
        <Connector name="JNDIConnector">
            <InheritFrom>system:/Connectors/ibmdi.JNDI</InheritFrom>
            <ConnectorMode>Update</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <UserComment/>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="debug">false</parameter>
                <parameter name="java.naming.provider.url">http://hostname/enrole/dsml2_event_handler</parameter>
                <parameter name="jndiSearchBase">dc=HRLoad</parameter>
                <parameter name="userComment"/>
            </Configuration>
            <Parser>
                <InheritFrom>[parent]</InheritFrom>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <DeltaSettings/>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
                <LinkCriteriaItem>
                    <Key>153704bfdb9</Key>
                    <Attribute>uid</Attribute>
                    <Operator>equals</Operator>
                    <Value>$uid</Value>
                </LinkCriteriaItem>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="initreconnect">false</parameter>
                <parameter name="numberOfRetries">1</parameter>
                <parameter name="retryDelay">10</parameter>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
            </PoolDefinition>
            <PoolInstance/>
            <InitializeOption>0</InitializeOption>
        </Connector>
    </Folder>
    <Folder name="Parsers"/>
    <Folder name="Scripts">
        <Script name="Adapter Global Script">
            <parameter name="autoInclude">true</parameter>
            <parameter name="script"><![CDATA[function initStatusCode() {
    // Init status code to successful
    work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
        Packages.com.ibm.itim.remoteservices.provider.Status.SUCCESSFUL));
}

function setStatusUnSuccessful() {
    work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
        Packages.com.ibm.itim.remoteservices.provider.Status.UNSUCCESSFUL));
}

function processError() {
    work.removeAllAttributes();

    work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, 
        new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Status.UNSUCCESSFUL));

    if( error.getString("class") == "javax.naming.CommunicationException")
    {
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASONCODE, 
            new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Reason.COMMUNICATION_ERROR));
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE, 
            Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.CONNECTOR_CONNECTION_ERROR);

    }
    else if( error.getString("class") == "javax.naming.AuthenticationException")
    {
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASONCODE, 
            new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Reason.AUTHENTICATION_ERROR));
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE, 
            Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_INVALID_LOGIN_CREDENTIALS);
    }
    else if(error.getString("class") == "javax.naming.NameNotFoundException")
    {
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASONCODE, 
            new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Reason.NAME_NOT_FOUND_ERROR));
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE,getErrorReasonMessage());
    }
    else
    {
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASONCODE, 
            new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Reason.PROCESSING_ERROR));
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE,getErrorReasonMessage());
    }

    var v = new Packages.java.util.Vector();
    v.add(gOperationType + " Error: " + error.toString());
    work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE_ARGS, v);

    var e = new Packages.com.ibm.di.exception.ITDIAgentException(gOperationType + " Error");
    e.setEntry(work);
    task.logmsg("DEBUG", "Process Error: Throwing ITDI Exception");
    system.dumpEntry(work);
    throw e;
}

function getErrorReasonMessage() {
    var rmsg = "";
    if (gOperationType == "add") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_ADD_FAILED;
    else if (gOperationType == "modify") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_MOD_FAILED;
    else if (gOperationType == "delete") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_DEL_FAILED;
    else if (gOperationType == "suspend") 
       rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_SUSPEND_FAILED;
    else if (gOperationType == "restore") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_RESTORE_FAILED;
    else if (gOperationType == "changepassword") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_MOD_FAILED;
    else if (gOperationType == "search") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_SRCH_FAILED;
    else task.logmsg("DEBUG", "getErrorReasonMessage: Invalid operation type " + gOperationType);

    task.logmsg("DEBUG","getErrorReasonMessage: ReasonMessage: " + rmsg);
    return rmsg;
}]]></parameter>
        </Script>
    </Folder>
    <JavaLibraries/>
    <JavaProperties/>
    <Folder name="Includes"/>
    <Folder name="Config">
        <LogConfig name="Logging"/>
        <InstanceProperties name="AutoStart">
            <AutoStart/>
        </InstanceProperties>
        <TombstonesConfig name="Tombstones"/>
        <SolutionInterface name="SolutionInterface">
            <PollInterval>-1</PollInterval>
            <InstanceID>ITIMAdapter</InstanceID>
            <enabled>true</enabled>
        </SolutionInterface>
    </Folder>
    <Folder name="Functions"/>
    <Folder name="AttributeMaps"/>
    <Properties name="Properties">
        <Stores>
            <PropertyStore name="Solution-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">Solution-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="Global-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">Global-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="System-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">System-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="Java-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collection">@SUBSTITUTE{config.$directory}/ITIMAdapter.properties</parameter>
                    <parameter name="collectionType">Java-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="ITIMAdapter">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collection">@SUBSTITUTE{config.$directory}/ITIMAdapter.properties</parameter>
                    <parameter name="collectionType">ITIMAdapter</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
        </Stores>
    </Properties>
</MetamergeConfig>
