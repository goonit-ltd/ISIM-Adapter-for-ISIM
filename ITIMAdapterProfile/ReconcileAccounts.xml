<?xml version="1.0" encoding="UTF-8"?><MetamergeConfig IDIversion="Created by TDI7.0 - null" created="Sun Mar 20 18:57:16 GMT 2016" createdBy="root" modified="Sun Mar 20 18:57:16 GMT 2016" modifiedBy="root" version="7.0">
    <Folder name="AssemblyLines">
        <AssemblyLine name="Reconcile Accounts">
            <Settings/>
            <Hooks>
                <Hook name="prolog0">
                    <Name>prolog0</Name>
                    <Script><![CDATA[// Import ITDI packages
importPackage(Packages.com.ibm.di);

var adapterVersion = "1.0";
task.logmsg("INFO","Adapter Version - 1.0");

// Read AL parameters

// ITIM Account Objectclass
var gITIMAccountObjectclass = "erITIMAdapterAccount";



// Read AL parameters

// Get AL config object.
var gALCfg = task.getConfigClone();

// Get AL settings object from AL config.
var gALSettings = gALCfg.getSettings();

// Get Parameters from TCB
var gOperationType = gALSettings.getStringParameter("OperationType");
var gservicename = gALSettings.getStringParameter("servicename");
var gitimurl = gALSettings.getStringParameter("itimurl");
var gnamingcontext = gALSettings.getStringParameter("namingcontext");
var gerservicepwd1 = gALSettings.getStringParameter("erservicepwd1");
var gerserviceuid = gALSettings.getStringParameter("erserviceuid");
var geruid = gALSettings.getStringParameter("eruid");
var gerservicepassword = gALSettings.getStringParameter("erservicepassword");
var gldapurl = gALSettings.getStringParameter("ldapurl");
var gfilter = gALSettings.getStringParameter("filter");
var geruidattrs = gALSettings.getStringParameter("eruidattrs");
var gerurl = gALSettings.getStringParameter("erurl");
var gerservicepwd2 = gALSettings.getStringParameter("erservicepwd2");

// Get config object for AL connectors.


//END OF AUTO-GENERATED SCRIPT - DO NOT REMOVE THIS LINE


]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates/>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer"/>
            <ThreadOptions/>
            <Operations>
                <Operation name="Default">
                    <Schema name="Input">
                        <SchemaItem>
                            <Name>$dn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>audio</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>businessCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>carLicense</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>destinationIndicator</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>displayName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeeType</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erPersonStatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erRoles</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSupervisor</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSynchPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraccountstatus</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eritimperdn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erperobjectclass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpersonobjectclass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eruid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>facsimileTelephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePhone</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>homePostalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>initials</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>internationaliSDNNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>jpegPhoto</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>labeledURI</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mobile</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>nagarea</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>nagcostcentre</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>nagemployeetype</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>o</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>pager</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>photo</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>physicalDeliveryOfficeName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postOfficeBox</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>postalCode</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredDeliveryMethod</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>preferredLanguage</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>registeredAddress</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>roomNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>secretary</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>seeAlso</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>st</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>street</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephoneNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>teletexTerminalIdentifier</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telexNumber</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userCertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPKCS12</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userPassword</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>userSMIMECertificate</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x121Address</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>x500UniqueIdentifier</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output"/>
                    <AttributeMap name="Input">
                        <AttributeMapItem>
                            <Name>$dn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>audio</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>audio</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>businessCategory</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>businessCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>carLicense</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>carLicense</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>departmentNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>departmentNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>description</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>description</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>destinationIndicator</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>destinationIndicator</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>displayName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>displayName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>employeeType</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>employeeType</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erPersonStatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erPersonStatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erRoles</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erRoles</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSupervisor</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSupervisor</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSynchPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erSynchPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eraccountstatus</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eraccountstatus</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eritimperdn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eritimperdn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erpassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erperobjectclass</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erperobjectclass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpersonobjectclass</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>erpersonobjectclass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eruid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>eruid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>facsimileTelephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>facsimileTelephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>givenName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>givenName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePhone</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePhone</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>homePostalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>homePostalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>initials</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>initials</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>internationaliSDNNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>internationaliSDNNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>jpegPhoto</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>jpegPhoto</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>l</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>l</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>labeledURI</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>labeledURI</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mail</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mail</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>manager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>manager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>mobile</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>mobile</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>nagarea</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>nagarea</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>nagcostcentre</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>nagcostcentre</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>nagemployeetype</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>nagemployeetype</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>o</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>o</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ou</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>ou</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>pager</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>pager</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>photo</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>photo</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>physicalDeliveryOfficeName</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>physicalDeliveryOfficeName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postOfficeBox</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postOfficeBox</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>postalCode</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>postalCode</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredDeliveryMethod</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredDeliveryMethod</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>preferredLanguage</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>preferredLanguage</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>registeredAddress</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>registeredAddress</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>roomNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>roomNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>secretary</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>secretary</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>seeAlso</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>seeAlso</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>sn</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>sn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>st</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>st</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>street</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>street</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telephoneNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telephoneNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>teletexTerminalIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>teletexTerminalIdentifier</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>telexNumber</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>telexNumber</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>title</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>title</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>uid</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>uid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userCertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userCertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPKCS12</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPKCS12</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userPassword</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userPassword</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>userSMIMECertificate</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>userSMIMECertificate</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x121Address</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x121Address</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>x500UniqueIdentifier</Name>
                            <Type>simple</Type>
                            <Modify>true</Modify>
                            <Simple>x500UniqueIdentifier</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output"/>
                </Operation>
            </Operations>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="TestDriver">
            <Settings/>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="TestDriver" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer">
                <Connector name="TestDriver">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[
var tcb = system.newTCB();

// Set the following values as appropriate. 
// These values will be accessed in the Assembly Line Prolog

tcb.setALSetting("OperationType","search");
tcb.setALSetting("servicename","");
tcb.setALSetting("itimurl","");
tcb.setALSetting("namingcontext","");
tcb.setALSetting("erservicepwd1","");
tcb.setALSetting("erserviceuid","");
tcb.setALSetting("eruid","");
tcb.setALSetting("erservicepassword","");
tcb.setALSetting("ldapurl","");
tcb.setALSetting("filter","");
tcb.setALSetting("eruidattrs","");
tcb.setALSetting("erurl","");
tcb.setALSetting("erservicepwd2","");

tcb.setTask(task);

main.startAL("Reconcile Accounts", tcb );
]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings/>
                    <Schema name="Input"/>
                    <Schema name="Output"/>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
    </Folder>
    <Folder name="Connectors"/>
    <Folder name="Parsers"/>
    <Folder name="Scripts">
        <Script name="Adapter Global Script">
            <parameter name="autoInclude">true</parameter>
            <parameter name="script"><![CDATA[function initStatusCode() {
    // Init status code to successful
    work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
        Packages.com.ibm.itim.remoteservices.provider.Status.SUCCESSFUL));
}

function setStatusUnSuccessful() {
    work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, new Packages.java.lang.Integer(
        Packages.com.ibm.itim.remoteservices.provider.Status.UNSUCCESSFUL));
}

function processError() {
    work.removeAllAttributes();

    work.setProperty(Packages.com.ibm.di.dispatcher.Defs.STATUSCODE, 
        new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Status.UNSUCCESSFUL));

    if( error.getString("class") == "javax.naming.CommunicationException")
    {
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASONCODE, 
            new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Reason.COMMUNICATION_ERROR));
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE, 
            Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.CONNECTOR_CONNECTION_ERROR);

    }
    else if( error.getString("class") == "javax.naming.AuthenticationException")
    {
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASONCODE, 
            new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Reason.AUTHENTICATION_ERROR));
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE, 
            Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_INVALID_LOGIN_CREDENTIALS);
    }
    else if(error.getString("class") == "javax.naming.NameNotFoundException")
    {
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASONCODE, 
            new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Reason.NAME_NOT_FOUND_ERROR));
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE,getErrorReasonMessage());
    }
    else
    {
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASONCODE, 
            new Packages.java.lang.Integer(Packages.com.ibm.itim.remoteservices.provider.Reason.PROCESSING_ERROR));
        work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE,getErrorReasonMessage());
    }

    var v = new Packages.java.util.Vector();
    v.add(gOperationType + " Error: " + error.toString());
    work.setProperty(Packages.com.ibm.di.dispatcher.Defs.REASON_MESSAGE_ARGS, v);

    var e = new Packages.com.ibm.di.exception.ITDIAgentException(gOperationType + " Error");
    e.setEntry(work);
    task.logmsg("DEBUG", "Process Error: Throwing ITDI Exception");
    system.dumpEntry(work);
    throw e;
}

function getErrorReasonMessage() {
    var rmsg = "";
    if (gOperationType == "add") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_ADD_FAILED;
    else if (gOperationType == "modify") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_MOD_FAILED;
    else if (gOperationType == "delete") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_DEL_FAILED;
    else if (gOperationType == "suspend") 
       rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_SUSPEND_FAILED;
    else if (gOperationType == "restore") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_RESTORE_FAILED;
    else if (gOperationType == "changepassword") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_MOD_FAILED;
    else if (gOperationType == "search") 
        rmsg = Packages.com.ibm.di.dispatcher.DispatcherReasonMessage.ADAPTER_SRCH_FAILED;
    else task.logmsg("DEBUG", "getErrorReasonMessage: Invalid operation type " + gOperationType);

    task.logmsg("DEBUG","getErrorReasonMessage: ReasonMessage: " + rmsg);
    return rmsg;
}]]></parameter>
        </Script>
    </Folder>
    <JavaLibraries/>
    <JavaProperties/>
    <Folder name="Includes"/>
    <Folder name="Config">
        <LogConfig name="Logging"/>
        <InstanceProperties name="AutoStart">
            <AutoStart/>
        </InstanceProperties>
        <TombstonesConfig name="Tombstones"/>
        <SolutionInterface name="SolutionInterface"/>
    </Folder>
    <Folder name="Functions"/>
    <Folder name="AttributeMaps"/>
    <Properties name="Properties">
        <Stores>
            <PropertyStore name="Solution-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">Solution-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="Global-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">Global-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="Java-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">Java-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="System-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">System-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
        </Stores>
    </Properties>
</MetamergeConfig>
